<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>How to Revive an Old Laptop (and Make it Useful)</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="How to Revive an old Laptop (and make it useful)">
<meta name="keywords" content="laptop, old laptop, Windows, Linux, Firefox, David, Wheeler, David A. Wheeler, David Wheeler, open source software, free software">
<meta name="generator" content="vim">
<link rel="stylesheet" type="text/css" href="paper.css">

<body bgcolor="#FFFFFF">

<h1 class="title">How to Revive an Old Laptop (and Make it Useful)</h1>
<h2 class="author">David A. Wheeler</h2>
<h2 class="date">November 30, 2005</h2>

<p>
A relative gave me an old laptop with
<a href="http://www.annoyances.org/exec/show/article09-004">Windows 98</a>.
Which led me to the question: can you take a castoff laptop and,
with zero or <i>very little</i> money, improve it so that it's more useful and
runs more "modern" software?
The answer is: yes!
In fact, this turned into a little game/project for me, and I learned
a few things along the way.
So I wrote down what I decided to do, in the hopes
that you may find these ideas useful for reviving an old laptop yourself.
I think it's a shame that older machines sometimes rot in closets instead
of helping people, and I hope that this document will help change that.
With a little elbow grease (and adjusted expectations), you can still
get mileage out of an older laptop.
<p>
A key requirement in reviving an old laptop is <i>not</i> spending
any serious money -- spend nothing, or only a little.
It's not really worth investing much money in these old machines,
unless you can reuse the components and you're likely to do so.
Remember, you can always go out and buy a new one, so you need to invest
only a tiny fraction of the dollars it'd cost to buy a new one.
A new one will have faster and better <i>everything</i>, and will probably
take less time to set up.
<p>
The text below tells you what to do if you want to duplicate what I did.
Some steps may not make sense, depending on what you want to do and the
resources you have on hand.
I talk about
<a href="#whattodo">deciding what to do with it</a> (including selecting an OS),
<a href="#newhardware">getting new hardware</a> (keep it cheap!),
<a href="#wirelesscard">buying a wireless card</a>, making
<a href="#movingwindows">backups and moving partitions to a new disk</a>,
<a href="#linuxinstall">installing GNU/Linux</a>,
<a href="#updatingwindows">updating a Windows 98 System</a>, and making a
<a href="#bootfloppy">boot floppy for windows</a> (or any other partition);
I end with a few
<a href="#conclusions">conclusions</a>.


<p>
<h1><a name="whattodo">Deciding what to do with it</a></h1>
<p>
The most important step is to decide what to do with the laptop,
and that's influenced by the capabilities of the machine itself.
A laptop with an 8080 processor and 48K of memory is not
going to be running the
latest software, though it might be perfectly fine for typing meeting notes.
So think about the kinds of applications you'd like to run,
and what operating systems are necessary (or desirable) to run.
In my case, I'm starting with a Toshiba Satellite 2100CDT.
<p>
A key decision, from an installation or upgrading point of view,
is the operating system to install.
There are three main possibilities: a version of Windows designed for that
machine (Windows 98 in my case), GNU/Linux, or both (dual-boot).
(Yes, there are alternatives, such as FreeBSD and OpenBSD;
if you want to do that, you no doubt already know it.)
<p>
Trying to upgrade to a newer version of Windows is generally hopeless;
older machines often run newer Windows versions very poorly.
Microsoft doesn't support Windows 98 much any more, even though
Windows 98 is <i>still</i> one of the most popular platforms
(it was 25% of the Internet users in 2005, with a much larger total --
probably a majority -- if you consider all desktop users in 2005).
So, left to its own devices, you'll start to miss out on the
more recent capabilities and security capabilities of more modern machines.
If you really want to use Windows, there are things you can do to at
least upgrade pieces so it's a little more modern.
<p>
For GNU/Linux, there
several well-supported distributions (like Fedora Core, Ubuntu, and SuSE).
GNU/Linux is much more secure than Windows 98 because it supports true
separation of user from system; it also benefits from the decades of
research in securing Unix-like systems on the Internet.
If your goals are to do web browsing, email, edit office documents
(in .doc / .ppt / .xls formats), and play some games, GNU/Linux is
probably the better choice in many cases.
Installation experiences vary though; many people have no problems, but
some laptops' nonstandard hardware can cause trouble... it all
depends on the laptop.
<p>
I decided to install a dual-boot system, with both GNU/Linux and Windows.
I normally use GNU/Linux; I find it much more pleasant
to use than Windows.
But I have a few applications that are Windows-based,
and I also sometimes do comparative analyses where having a Windows system
around is handy.
<p>
So below I'll describe how to update a Windows 98 system, how to
move Windows to a new hard drive, and how to install a GNU/Linux system
with some trimmings.

<p>
<h1><a name="newhardware">New Hardware</a></h1>
<p>
We should spend little money.. but spending a little can help a lot.
I bought a little memory, swapped in a bigger hard drive (no cost to me),
and bought an inexpensive wireless card.
(In my case, the original laptop also had a power connector problem that a
screwdriver, soldering iron, and some time solved; hopefully you won't
have that kind of problem!)
<p>
To improve performance, consider buying some memory.
It's cheap, and it significantly improves performance in general, as well
as your ability to run large programs simultaneously.
If you have 192M or more, I've found that 100% modern GNU/Linux distributions
work very nicely.
I bumped my memory up to 192M for $40.
If you do change memory,
get and run <a href="http://www.memtest86.com/">memtest86</a>,
a free memory-testing program
(it comes with the Fedora Core disks, if you're using Fedora Core).
<p>
I happened to have a hard drive around with more space.
So I copied the original disk partition off (I'll explain more below),
swapped drives, and copied the partition back to the new drive...
instant bigger disk.
<p>
The wireless card involved so much research that I'll talk
separately just about that (next).

<p>
<h1><a name="wirelesscard">Buying a Wireless Card</a></h1>
<p>
If you want to buy a wireless card, make sure it can run well and easily on
GNU/Linux (even if you don't plan to use it that way now, it's
more flexible if you <i>can</i>).
It's easy to buy a card that won't work easily and create lots of headaches
for yourself... don't do it.
Instead, look up a few sites and make sure the card is likely to
work easily.
In particular, you want to know if there are open source software
drivers for that card, and if those drivers support extensive functionality.

<p>
One way to see if a card has an open source software driver is to
look at the
<a href="http://www.fsf.org/resources/hw/net/wireless/cards.html">
Free Software Foundations (FSF)'s wireless cards list</a>.
In general, what you do is find the underlying chipsets that work well
with Linux, and then you find out what products use those chipsets.
As of November 2005, the Ralink 2500/RT2400 and Realtek RTL8180 chipsets
were well-supported, and they list the products that use those chips.
They also noted that there is an open source software driver for
Atheros, though with a limitation (it doesn't include all code).
The FSF is a harsh grader, but that's okay, their detailed investigations
help me quickly narrow the field.

<p>
But is it functional?  The most stressing applications for wireless cards
are the ones that do security scanning/auditing, like
<a href="http://www.kismetwireless.net">Kismet</a> and
<a href="http://www.cr0.net:8040/code/network/aircrack">Aircrack</a>.
(They also essentially require the use of GNU/Linux; I don't know
anyone who seriously does wireless security analysis using Windows.)
Kismet notes that the Ralink, Realtek, and Atheros
chipsets are supported, and the
Aircrack documents even recommends the Atheros and Ralink chipsets.
(Note: The best way to check a system's defenses is to stress-test it,
just like crash testing is an excellent way to learn about a car's defenses...
but do not use such tools to attack others' networks.
If you use tools like Kismet, please use them responsibly.)
<!--
Ralink info:
http://rt2x00.serialmonkey.com/
Got driver.
Had to install qt-driver (to get qmake, for Utility)

http://rt2x00.serialmonkey.com/wiki/index.php/Main_Page
http://rt2x00.serialmonkey.com/phpBB2/
http://www.amdzone.com/index.php?name=PNphpBB2&file=viewtopic&t=5224&sid=3bf76edebf7b0bd454c6bdff78135833
-->

<p>
Good alternatives sources to look at, to see if there are any
"gotchas" in your choice of wireless products before buying them, are
<a href="http://www.hpl.hp.com/personal/Jean_Tourrilhes/Linux/">
Jean Tourrilhes' extensive research</a> and
<a href="http://tuxmobil.org/">TuxMobil</a>.
I've learned that many have been happy with
other cards, such Prism based cards (hostap),
old/classic Orinoco cards (orinoco), and Aironet 350 (airo).
A little extra time spent in research may save you lots of time later.

<p>
WARNING!
Some cards on Linux are supported by "ndiswrapper";
this is a software shim that lets users run Windows binary drivers
or wireless cards on Linux.
DO NOT DEPEND on ndiswrapper -- and NEVER buy a wireless card
(even if you're buying for Windows)
if its Linux implementation requires ndiswrapper.
There are lots of reasons:
<ol>
<li>
These are binary-only drivers, so if there are bugs, there's
no way for others to fix them.
Vendors typically stop releasing driver fixes soon after they have your money,
and <i>certainly</i> after the card is discontinued.
With the pace of technology, all cards get discontinued rapidly.
Your best hope for long-term support is to have open source drivers.
<li>
Such cards by definition lack functionality.
Windows' interface doesn't allow for many advanced features
(like security analysis), which you (or someone you resell your card to)
might want.
<li>
Installing these (and re-installing them on every upgrade) is a nightmare
on a Linux-based system.
<li>
<a href="http://lwn.net/Articles/160138/">
Ndiswrapper will probably fail to work in the future on GNU/Linux</a>.
Ndiswrapper wraps NT drivers, which are allowed up to 12K of stack.
That means that some drivers will fail no matter what, and many of the
specific drivers require the increasingly rare "8K stack" configuration
of the Linux kernel.
These 8K stacks are becoming a massive waste of
space in Linux, and the Linux kernel developers are likely to drop the
<i>ability</i> to use 8K stacks, and
instead change Linux so that it only uses the far
more efficient 4K stacks (Fedora Core has already moved to 4K stacks).
Many ndiswrapper drivers fail if they only have 4K stacks; this would
make ndiswrapper almost useless.
What, you say, the Linux developers wouldn't do that?
Actually, they would; closed drivers make it impossible to fix things.
Bad drivers are historically the primary reason that Windows crashes, and
the Linux developers have a solution for it... fix the drivers!
But they can only fix drivers when
they have the source code, so if people would stop
running binary drivers, many problems completely disapper.
From their point of view, if binary drivers would stop working, then
people would stop buying cards from uncooperative vendors, and
that's best for everyone in the long term.
</ol>

<p>
I decided that the Ralink looked like the best chipset -- recommended
by all, and in particular strong OSS support (so I'm likely to keep
getting support into the future).
Some initial reports suggest it's easy to do --
<a href="http://resources.angelosystems.com/content/96/Averatec_&amp;_FC4.html">
here's one report saying that their Ralink 2500 card was
plug-in-and-go on Fedora Core 4</a>.
And the FSF told me what products used the Ralink chipset.
So I went and bought me an ASUS WL-107G for $30, which does
802.11b/g... enough for my needs.
<p>
Will it work? When I first wrote this, I didn't know.
Update: The wireless card works fine.   You have to install the
driver separately -- I used the
<a href="http://rt2x00.serialmonkey.com/">
serialmonkey 1.1 driver</a> -- and it takes a few steps to install
the driver
(don't do "make install" on Fedora, they have a special install command
for Fedora that is tailored for it).
But by following the directions, it worked fine.
They include a fancy Qt-based config tool that you can compile, but
I didn't bother.
It'd be much nicer if the driver were automatically included in the
compilation; I hope that very soon this will be integrated directly
into Fedora, because that would make it MUCH easier.
But it didn't take long.

<h1><a name="movingwindows">Backups and Moving Windows to a New Disk (for Dual-Boot)</a></h1>
<p>
I have no CD-ROMs for the Windows operating system as installed by
this laptop (in particular, I don't have a CD-ROM with the
required manufacturer-specific drivers).
No hard drive lives forever, and once this one goes, the machine is dead
unless I back up the disk's contents.
And of course, if I get a virus or whatever, the only safe thing to
do is recover from a known safe source.
In my mind, it's a crime to not be able to reload a machine from scratch
if the hard drive goes bad (or if you get malicious code, which has the
same effect) -- a "backup" on the same hard drive isn't a backup at all.

<p>
I had a hard drive with more space, and I could give
Windows a larger partition while still giving lots of space to GNU/Linux.
So first step: back up the current Windows partition,
so I can swap in a bigger hard drive and dual-boot, as well as
recover from disaster.

<p>
Since it's unwise to backup a partition that's in use, the obvious
solution is to slip in a CD-based Linux
distribution that can boot and give me a useful network connection
(so I can back up the partition to another computer on my home network).
Unfortunately, the Red Hat Fedora Core 4 rescue disk couldn't find the
PCMCIA ethernet card I have, and Ubuntu's "Live CD" (from TheOpenCD 3.0) had
trouble with the laptop too when booting off the CD.
That's not really surprising; I suspect their "full" installations would
work well on the machine, but neither are really designed to be
full-featured from a CD.
So I turned to one of the many CDs specialized for this.
I could have easily used Knoppix, and it would probably have done very well.
I instead happened to use the "Auditor Security Collection";
since it focuses on doing lots of network-based analysis, and it's
quite normal to use it on a laptop (so you can walk in to a client's
network for analysis), they work VERY hard to make sure that laptop
networking works out-of-the-box when booting from their CD.

<!--
(I did have to turn on networking; you can do this from the command line
with "/etc/init.d/networking start", and run System / Net Config).

Unfortunately, 
scp refuses to copy the contents of device files (Drat! Why?!?),
so it won't make copies.

The program "partimage" seems to be designed for the purpose of
handling partitions, including automatic compression, but I didn't see
any precreated RPMs for Fedora Core 4.
I could save my files to an existing system).
Recompiling partimage failed, and I decided this wasn't worth my time.
Or Ghost4Linux.
-->

<p>
There are lots of ways to copy partitions.
But I have a trivial need, just to copy a big "file" (partition).
Instead of trying to install some sophisticated program, I just used
good old netcat (nc), and copied the specific partition I needed
over the network.
Netcat just copies data across a network, and that's all we really need.
(I did this behind a firewall, of course.)
Netcat doesn't know about partitions (so it'll send useless data), and it
doesn't compress (so it'll take longer), but it'll do the job.
<p>
To use netcat I needed to temporarily open a port on my Fedora Core 4 system
(as a security measure, all ports are closed unless explicitly opened).
I just picked some port (I'll arbitrarily choose 1234) for this work,
and opened it.
On Fedora Core 4, just go to
Desktop/System Settings/Security Level, and at "Other ports:"
enter "1234:tcp".
Now we can send the partition across the network.
First, on the system where the partition is going to be stored, do:
<pre>
   nc -l 1234 &gt; first-partition
</pre>
And then on the laptop, where the partition currently exists
(the "cat" is just to make sure nc has no idea that it's reading from a
special file, and probably isn't needed):
<pre>
   cat /dev/hda1 | nc 192.168.2.132 1234
</pre>
<!--
When the copying was done they didn't stop (I had to control-C them),
which is odd.
-->
I then did a quick "md5sum" of the partition
on the original system
(md5sum /dev/hda1) and of the copy (md5sum first-partition) to make sure
they matched -- and they showed a match.
(Yes, MD5 is broken for cryptographic purposes, but it's rather unlikely
an attacker would be able to perform that kind of attack in this case.)
Be sure to close the port back up when you're done.

<p>
Now I swapped in a much bigger hard drive I snagged from a laptop
(the other laptop works, but it doesn't support CardBus cards).

<p>
I set a new partition, much larger than the old one.
I then used netcat to copy the files back.
<pre>
 cat first-partition | nc laptop-ip-address 1234
</pre>
on laptop:
<pre>
  nc -l 1234 | cat &gt; /dev/hda1
</pre>
and we're golden.
I later used "parted" on a Linux system
to resize the Windows filesystem; that way,
Windows could use all that new space.

<p>
<h1><a name="linuxinstall">GNU/Linux Install</a></h1>
<p>
If you ever decide to do a dual-boot install, remember the golden
rule: install Windows first.
That's because Windows is fundamentally rude; it assumes that there
are no other competing products, and it simply overwrites whatever boot
process you had before. Humph.
<p>
In my case, though, I'd already "installed" Windows by copying its
files into a new partition.
Problem is, my disk didn't have a "master boot record" installed to
actually start a boot (because we haven't run anyone's installer), so
by installing GNU/Linux next, I could get that fixed and set up to
dual-boot.
<p>
I chose Fedora Core 4, though Ubuntu was definitely tempting.
However, Fedora Core 4 includes automatic buffer overflow protection,
which Ubuntu currently lacks.
Since around 50% of all security vulnerabilities (including
the ones we don't know about yet!) are buffer overflows,
this makes Fedora Core a safer OS than most other operating systems --
Fedora Core will have 50% fewer vulnerabilities than most of
its competitors, because of this simple mechanism.
On Windows, programs have to be recompiled to gain this protection...
it's built-in from the beginning in Fedora.
I understand Ubuntu is looking at adding this, and once they do I'll
definitely take a look.
Fedora Core 4 also has SELinux, and uses it to give additional security
separation, another reason to like Fedora Core 4.

<p>
Since I wanted much more control over my install, I used a custom
install and used Disk Druid.
Partition 1 is for Windows (FAT32 LBA), partition 2 was swap,
partition 3 is /boot (so that in a crisis I can still boot), and
partition 4 is the rest ("/").
I used to use separate partitions for "/home", variable directories like "/",
and mostly-fixed directories like "/", but ext3's recovery capabilities are
so good that I haven't needed to... and since this disk is a little small,
this way I won't have to worry if I need more space
than I expect in any of them.
I don't plan to install multiple Linux distributions on this thing
(another reason to have a separate /home directory), so no need.
I made sure I selected ext3 for /boot and /.

<p>
For Ethernet connectivity, I have a 3Com card
(an 3c575-tx 10/100 Ethernet card), and it didn't work out of the box.
So, I had to look at the error messages from Linux, which is stored
in /var/log/messages.
It had lots of error messages involving IRQs and suggested adding "pci=biosirq".
No dice.
While starting up, Linux noted that it was "Disabling IRQ#11"; a Google
search on this phrase found
<a href="http://kerneltrap.org/node/3855">this note that recommended
modifying the kernel line to add acpi=force</a>;
this was an issue clearly noted in the startup anyway.
Adding "acpi=force" to the linux kernel line completely solved the problem.
(You edit /boot/grub/grub.conf as root to make this permanent; just
modify the line with "kernel" at the front.)

<p>
Fedora Core 4 generally did a really good job of auto-detecting things.
The graphics display, sound card/speakers, CD-ROM drive, hard drive,
floppy, built-in mouse,
PS/2 mouse, and USB bus (including USB memory stick) were all
automatically detected and configured.
Once the "acpi=force" line was added (allowing it to use ACPI), the
ethernet networking worked completely automatically.
The display configuration doesn't allow for other virtual terminals
while in graphics mode, and the shutdown display gets odd, but this
no negative impact on normal use.
I haven't tried the built-in modem or external display.
(Someone else has reported that the modem can be made to work, but
because it's a Winmodem instead of a real modem it requires downloading
a separate driver -- I haven't bothered.)

<p>
To easily access the Windows 98 partition (as /media/windows),
I created a /media/windows directory and then added it to /etc/fstab.
I decided to add it so that logging in would mount the Windows partition,
so I added it this way:
<pre>
 /dev/hda1 /media/windows auto pamconsole,exec,noauto 0 0
</pre>
Don't include "managed" as an option, or it won't be around the next time
you boot.

<p>
A simple "yum update" as root updated all my software
(I ran it overnight), in particular the excellent OpenOffice.org office
suite version 2.
I then looked over the <a href="http://www.fedorafaq.org/">
Unofficial Fedora FAQ</a> for good ideas, such as
turning off the new spatial file manager.
I then got the
<a href="http://www.mjmwired.net/resources/mjm-fedora-fc3.shtml#ttf">
RPM for Microsoft's True Type core fonts</a>
(non-RPM systems should look at the
<a href="http://corefonts.sourceforge.net/">SourceForge project that
makes Microsoft's True Type core fonts available on Linux</a>).
I also went to Desktop / System Settings / Server Settings and disabled
stuff I don't need.

<!--

Unofficial Fedora FAQ describes how to do this by GUI:
GNOME uses a new "spatial mode" which some people hate; if you want to use the browser mode as default, run gconf-editor (you can run it from the GUI by selecting Main Menu/ System Tools/ Configuration Editor) and turn on the /apps/nautilus/preferences/always_use_browser checkbox. You can do this from the command line in one step by typing this command as one line into a terminal:

gconftool-2 --type bool --set
  /apps/nautilus/preferences/always_use_browser true
-->

<p>
Fedora Core 4 has a
known bug if sync'ing with Palm Pilots over USB, which causes
sync'ing to fail.  Here's the
<a href="http://bugzilla.gnome.org/show_bug.cgi?id=274032">
bug report</a> which also discusses solving it.
(I tried the proposed solution; it didn't work for me, but by the
time you read this it's probably fixed.)
<!--
<a href="http://www.spenneberg.org/Evolution">
install fixed versions of gnome-pilot and gnome-pilot-conduit</a>.
-->

<p>
I never use up2date; yum is better.
It just wastes time on boot, and pixels too.
So let's remove it:
<pre>
 rpm -e up2date up2date-gnome firstboot rhn-applet
</pre>

<p>
I'm told that in low-RAM situations you might want to modify your
X (graphical) configuration to use XFCE or Fluxbox instead.
This removes some functionality in exchange for performance.
I haven't needed to do that.

<p>
This computer has a very limited LCD screen; its resolution is only 800x600.
To get more pixels, I right-clicked on each of the top and bottom panels,
selected properties, and turned on auto-hide.
I also reduced the size of fonts in various displays.

<p>
I found out what the graphics card was from the logs, and then
looked up (in the man pages) its options to see if I could speed it up.
There were two that seemed promising,
so I edited /etc/X11/xorg.conf and added these
in the "Device" section.  To be honest they don't really
seem to speed it up by much, but every little bit might help:
<pre>
        Option      "pci_burst" "true"
        Option      "pci_retry" "true"
</pre>


<p>
<h1><a name="updatingwindows">Updating a Windows 98 System</a></h1>
<p>
Time to boot into Windows 98 and see what we can do.
Remember, normally you install Windows first and <i>then</i> another
operating system.
But after you install Windows 98 (no matter how), it needs some TLC
if you want it to be pleasurable today.
Here are some things you can do to make a Windows 98 feel
a little less old.
A lot of it involves installing updates, setting configurations to be
more reasonable, and installing the best open source software
available for Windows 98 (which often cost nothing and are maintained).

<p>
It's wise to have some protective mechanisms on Windows.
(That's especially true in my case -- without the manufacturer CDs I can't
reinstall the operating system from scratch.)
So I installed and ran
<a href="http://www.safer-networking.org/">
Spybot Search &amp; Destroy</a>; this will at least help remove
malicious spyware, if there is anything.
(It's free and very good. No, it's not open source software, but if you
wanted to <i>only</i> run open source software then
why are you running Windows?)


<p>
Now let's get prepared:
<ol>
<li>Uninstall software you won't use (and, if you're getting a cast-off,
anything you're not sure you have a license for), using
Start -&gt; Control Panel -&gt; Add/Remove Programs.
This will give us more disk space for good stuff.
I would include Outlook in this step; Outlook is basically a virus delivery
system and just not worth it for most people.
We can replace it with Mozilla Thunderbird instead; it's not perfect
(no real program is), but it has a far better track record.
<li>
Connect to the Internet <i>behind</i> a firewall, and get all the
appropriate updates you can using Start -&gt; Windows Update.
Be prepared for endless rebooting; you might want to make a boot floppy
that quickly boots you to Windows.
</ol>

<p>
Now install more up-to-date software.
If you get <a href="http://www.theOpenCD.org">TheOpenCD</a>, you can get
many of these programs at once, and if you don't have a high-speed
Internet connection that may be the best way to get them.
(Careful, though, TheOpenCD may not have the latest and greatest of
software you depend on.)
All of these programs are no-cost, and most are open source software.
Anyway, here's some software to snag:
<ol>
<li>Get <a href="http://www.spreadfirefox.com/?q=affiliates&amp;id=31988&amp;t=60">Mozilla Firefox</a> and install that as your new default
web browser.
<a href="https://dwheeler.com/blog/2005/08/06/#ie-horrific">
Microsoft's Internet Explorer is a security disaster</a>, for example,
in 2004 it was "safe" to use from publicly-known attacks of the
worst kind for only 7 days a year -- a 98% unsafe rate.
Mozilla had an unsafe rate of 15% (and 7% on Windows) -- so while it's
clearly not perfect, you want the <i>better</i> program.
And it's a much more pleasant experience.

<li>
If you want a local email client, get
<a href="http://www.mozilla.org/products/thunderbird/">Mozilla Thunderbird</a>.
Outlook is the other major way attacks get in, let's just dump it.
And remember, no matter what email program you use,
never run ANY program sent by email. Email's too easy to forge.
Thunderbird is smart enough to not make dumb mistakes easy, thankfully.

<li>
Get <a href="http://www.openoffice.org">OpenOffice.org</a>
for editing documents.
Version 2 was a major step forward in this office suite; it's very capable.
If you have an old (licensed) version of MS Office on the machine
that you're keeping but won't normally be using, disable the
Microsoft "Office Startup" code that will waste your memory and time.
Do this by selecting
Start -&gt; Run -&gt; msconfig (Enter), then
Select the "Startup" tab, and de-select "Office Startup".

<li>
If you use instant messaging (including IRC), get
<a href="http://gaim.sourceforge.net/">Gaim</a>.
It understands lots of different protocols simultaneously, and is very nice.

<li>
If you listen to music, get the
<a href="http://www.vorbis.com/">
Ogg Vorbis codec</a> so that you can play Ogg Vorbis music files.
Ogg Vorbis is an improved version of MP3, and it's patent-free too.

<li>
Get
<a href="http://www.adobe.com/products/acrobat/readstep2.html">Adobe Acrobat</a>
so you can read the universally-used PDF format.
(Not open source software.)

<li>
<a href="http://www.7-zip.org/">7-zip</a> is useful for handling .zip
(compressed archive) files.
</ol>

<p>
Windows 98 cannot, by itself, handle USB memory sticks.
Thankfully, many USB sticks come with a Windows98 driver, and that seems to
be the easy way to get a driver.

<p>
If you also do lots of Unix stuff, you can't live without
<a href="http://www.putty.nl/download.html">PuTTY</a>,
<a href="http://www.vim.org">vim</a>,
and
<a href="http://www.cygwin.com/">Cygwin</a>.
Running Cygwin is not nearly as pleasant as running a real Unix-like
system, but it's a start.
When installing Cygwin, the recommended root directory (C:\cygwin) is
fine, but be careful about the packaging directory -- do <i>not</i>
let it go into the "Desktop" (its default)!
Instead, place it somewhere else -- C:\cyginstall is a good choice.
Remember to add rxvt to the installation (it's under "shells");
rxvt is much more pleasant to use for many tasks.
If you want X-windows, then you'll need to install the X11 base;
see the documentation for more information.

<!--
Unfortunately, the bash 3.00 program in
my current Cygwin install is mysteriously slow and is practically
unusable - it takes 6 seconds to run "ls" on an empty directory.
Cygwin has been fine on other Windows 98 installs, so I'm not sure what
the problem is; I think this is an oddity with this specific machine.
I'm still tracking this down problem, so any suggestions would be appreciated.
The problem seems to be that bash takes a tremendous amount of CPU work
to get anything done, which is bad because so much depends on bash
(including postinstallation tasks!).
Normally "sh" is bash in Cygwin, but that's
a bad plan when bash isn't working well.
Luckily, Cygwin emulates Unix, and Unix was carefully designed to allow
replacement of any part (even critical ones like this).
Currently I'm working around the problem by using another shell
that is sufficiently sh-like (pdksh in my case).
I installed pdksh, and then did the following so everything would use it.
First, Start-Run command.com, then:
<pre>
 cd /cygwin/bin
 copy pdksh.exe sh.exe
</pre>
I then used the Windows-installed version of vim,
and edited c:\cygwin\etc\passwd so "bash" in all places was "sh".
I also edited c:\cygwin\cygwin.bat, and changed
"bash \-\-login -i" by inserting "rem " (remark) in front of it,
and then added "pdksh -l" on its own line.
Much better now!
-->
<p>
If you use Cygwin and add rxvt, add it to the desktop so it's
easier to start. Create this file c:\cygwin\rxvt.bat:
<pre>
@echo off
C:
chdir C:\cygwin\bin
rxvt -e bash --login -i
</pre>
(instead of "-e bash --login -i" I use "-e pdksh -l").
Right-click, say you want to create a shortcut, and drag
that shortcut onto the desktop.


<p>
Now we can go tweak Windows 98.
Here are good sites for helping you fix up Windows 98:
<ol>
<li>The <a href="http://www.annoyances.org/">annoyances.org</a> website
has lots of good tips for fixing Windows annoyances
(and they point to good O'Reilly books with more info). E.G.:
<li><a href="http://www.microsoft.com/windows98/default.asp">Microsoft's
Windows 98 website</a> naturally presses you to waste money on for-pay
upgrades, and only use their products where possible,
but it still has some useful info,
<li><a href="http://www.helpwithwindows.com/windows98/">HelpWithWindows</a>.
</ol>

<!--
The "Windows annoyances" describes how to
eliminate annoying splash logo on boot-up:
Remove the read-only attribute on c:\msdos.sys
(View it, right-click, properties).
Open the file using Notepad or any text edditor (Not MS word or any word processor) Change or add the followind line 'Logo=0' This will disable the windows logo screen if you want it back then make "Logo=1" Change the attributes back The changes will take place on the next reboot.
You can also replace the startup and shutdown logos; see
http://www.helpwithwindows.com/windows98/tune-23.html
-->
<p>
Here are few ideas:
<ol>
<li>Set it so you can see the whole filename,
including the extension -- it's security problem otherwise, since
you don't really know the filetype in all cases.
<li>
<a href="http://www.microsoft.com/windows98/usingwindows/maintaining/tips/beginner/Bootdisk.asp">Create a boot disk</a>.
<li>
Now that music manufacturers like Sony have decided to
attack their customers' computers via rootkits,
you may want to
<a href="http://www.helpwithwindows.com/windows98/tune-05.html">
disable running programs on a CD-ROM automatically!</a>
<li>
A trivial speed-up is to have
<a href="http://www.microsoft.com/windows98/usingwindows/maintaining/tips/advanced/Floppydisk.asp">Windows not look for the floppy on boot</a>.
You can still use the floppy, if you have one.
To do this, here's what MS says:
<ol>
<li>Right-click My Computer, click the Properties button, and then click the Performance tab.
<li>Click the File System button and then click the Floppy Disk tab.
<li>Clear the option to Search for new floppy disk drives each time your computer starts.
</ol>
</ol>

<p>
You might want to take a peek at
<a href="https://dwheeler.com/essays/securing-windows.html">
my article on securing Windows</a>.

<p>
Defragment the disk when you're done, going to
Start -&gt; Programs -&gt; Accessories -&gt;
System Tools -&gt; Disk Defragmentor.  Windows 98 is very poor at this.

<p>
There are lots of sources for useful Windows programs.
<a href="http://www.TheOpenCD.org">TheOpenCD</a> is very selective, so
its stuff is known-good and easy to install.
<a href="http://osswin.sourceforge.net/">OSSwin project lists
open source software for Windows</a>.
I'm sure there are more sources of information.
<!-- Google search, Windows "open source software" -->

<p>
I do have a remaining problem, specific to many
Toshiba laptops (including my Toshiba 2100CDT).
The problem is that the Toshiba's hardware lies;
its video card says it supports up to 1600x1200,
and it does -- but only to an external monitor.
The built-in display only supports 800x600, though, which is
pretty limiting, and it can't seem to explain that well to software.
When games ask what's the "max screen resolution", they get a larger
number, and then try to use it.
The Toshiba then does "hardware panning" (aka virtual desktop),
which is fundamentally stupid.
In other words, you can never see the whole screen at one time, because
the software thinks you're seeing everything, and the hardware never
lets the software know otherwise.
I've never found a situation where I wanted hardware-based panning;
it's extremely hard to do anything useful when you can't see the whole screen!
That means many games won't work, because I can't see the whole screen.
This seems to be a fundamental failing with the machine that was
true when it was sold, so it's not like this is a new problem.
Disabling "panning.sys" in config.sys (run "msconfig" for an easy
way to do this) doesn't seem to help.
<!-- http://www.micro-solutions.com/support/docs/2851.asp -->

<p>
This is only a problem in Windows, and not in Linux.
<a href="http://www.illusionary.com/~dglidden/4015CDS.html">In Linux
you <i>can</i> prevent panning directly</a>.
I could write an assembly program to disable this, but I doubt
I'll bother.
This is really a nasty problem --
what's the point of having a "feature" that makes software unusable?
This makes using fun free games like
<a href="http://www.wesnoth.org/">Battle for Wesnoth</a> inaccessible
on Windows while there's no separate attached screen.
(Battle for Wesnoth works just fine on Linux).

<p>
<h1><a name="bootfloppy">Boot Floppy for Windows (First Partition)</a></h1>
<p>
Most of the time, I boot into Linux, it's more pleasant to use.
But I've set things up so that I can boot into Windows if I wish.
However, I found it was convenient to have a "key floppy" that simply
forced the system to boot the first partition (Windows)... otherwise, it would
by default boot Linux.
<p>
So how do you create a boot device (say, a floppy, stick, or something else)
that boots something particular?
The general idea is discussed in
<a href="http://www.linuxjournal.com/node/4622/print">
"Boot with GRUB" by Wayne Marshall</a>, which
tells how to create a floppy disk that boots grub, including
a configuration file.
This is much better than using Windows' SYS command for booting
Windows; it's more flexible, and
the system won't think a file is still open after it's started.
<p>
Here are the commands (on Linux) to create such a thing:
<pre>
fdformat /dev/fd0
/sbin/mkfs -t vfat /dev/fd0
mount -t vfat /dev/fd0 /media/floppy
mkdir -p /media/floppy/boot/grub
cd /boot/grub
cp stage* grub.conf /media/floppy/boot/grub
cd /media/floppy/boot/grub
</pre>
Now you edit grub.conf on /media/floppy/boot/grub,
at least change default= so Windows is the default.
Here's a good sample grub.conf file:
<pre>
default=0
timeout=5
hiddenmenu
title Windows
        rootnoverify (hd0,0)
        chainloader +1
</pre>
Then let's finish setting up the floppy:
<pre>
cp grub.conf menu.lst
cd
umount /media/floppy
/sbin/grub
  root (fd0)
  setup (fd0)
  quit
</pre>

<p>
<h1><a name="conclusions">Conclusions</a></h1>
<p>
Well, after all that, I have a laptop... with Ethernet and wireless,
dual-booting Windows and Fedora Core.
It's certainly not a high-end machine, but I only spent $70, so the
price is pretty nice.
I'm not the only one;
<a href="http://ubuntuforums.org/archive/index.php/t-33928.html">
others have found the pleasure of reviving an old laptop.</a>
It takes a little while for the laptop to boot, or to load big programs
(like OpenOffice.org), but once it gets started it runs very well.
Fun!



<p>
<hr>
<p>


<p>
Feel free to see my home page at
<a href="https://dwheeler.com">https://dwheeler.com</a>.
You may also want to look at my paper
<a href="https://dwheeler.com/sloc"><i>More than a Gigabuck: Estimating
GNU/Linux&#8217;s Size</i></a>,
my article
<a href="https://dwheeler.com/oss_fs_why.html">Why OSS/FS? Look at
the Numbers!</a>, and my papers and book on
<a href="https://dwheeler.com/secure-programs">how to develop
secure programs</a>.

<p>
(C) Copyright 2005 David A. Wheeler.  All rights reserved.

</body>
</html>

