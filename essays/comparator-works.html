<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Comparator Works!</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Comparator really works.">
<meta name="keywords" content="comparator">
<meta name="generator" content="vim">
<link rel="stylesheet" type="text/css" href="paper.css">
</head>

<body bgcolor="#FFFFFF">
<h1 class="title">Comparator Works!</h1>
<h2 class="author">David A. Wheeler</h2>
<h2 class="date">September 17, 2004</h2>

<i>This short paper shows that Eric Raymond's "comparator" tool
appears to legitimately be able to detect many kinds of copying.</i>

<h1>Introduction</h1>
<a href="http://www.groklaw.net/article.php?story=20040917083356327">
Dr. Randall Davis of MIT has declared in the SCO vs. IBM case</a> that
he's compared IBM's contributions to the Linux kernel against
Unix System V, and found that there is no overlap (no copyright violations).
To do this, he used the tools comparator and sim, which do mass comparisons
that can then be analyzed to remove any false positives.
<p>
But some have protested that this isn't a fair test, because
he doesn't include in his testimony evidence that these tools can
detect when code overlaps.
I don't think this is a strong argument; these kinds of tools are
routinely used for this kind of analysis, and even if one tool failed,
it's unlikely two tools would fail if there really was widespread
unauthorized copying.
<p>
But this is a complaint that's easily dealt with -- just use one of the same
tools to compare something where copying <i>should</i> be detected,
and see if it is.
<p>
And that's exactly what I've done.
I first installed Eric S. Raymond's comparator, version 2.5.
Davis actually modified this program slightly to improve its efficiency;
I don't have access to those improvements, but I have no reason to believe
that they affect the results in any significant way.
I then downloaded two versions of the Linux kernel:
<a href="http://www.kernel.org/pub/linux/kernel/v1.0/linux-1.0.tar.gz">
Linux kernel 1.0</a> and
<a href="http://www.kernel.org/pub/linux/kernel/v2.6/linux-2.6.8.1.tar.bz2">
Linux kernel 2.6.8.1</a>.
<p>
Since running the entire comparison takes a long time, I arbitrarily picked
one file from each version: include/linux/net.h, a file that
specifies interfaces for networking.
 
<p>
I'm actually running the tool against the entire set, for my amusement.
It will take a while to get the results; I don't have access to machines
as powerful as Davis used.
But those results aren't needed for my purposes; it's clear that
comparator can detect certain kinds of copying.
<p>
Now, it's true that comparator can't detect certain kinds of obfuscation
that someone who's copying code might do.
But it's not <i>that</i> easy.
And more importantly, it's clear that comparator <i>can</i> find
copies of code in many cases.
This strengthens

<p>
<hr>
<p>
Feel free to see my home page at
<a href="https://dwheeler.com">https://dwheeler.com</a>.

</body>
</html>

