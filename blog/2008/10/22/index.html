<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
<link rel="alternate" type="application/rss+xml" title="RSS" href="http://www.dwheeler.com/blog/index.rss"></link>
<title>David A. Wheeler's Blog   </title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
<h1 style="margin-left: auto; margin-right: auto; width: 50%;">David A. Wheeler's Blog</h1><p>  </p><p></p><h1>Wed, 22 Oct 2008</h1>
<p><a name="development-cost-linux-2008"><font size="+2"><b>Estimating the Total Development Cost of a Linux Distribution</b></font></a></p><p></p>
<p>
There&#8217;s a new and interesting paper from the Linux Foundation that
estimates the total development cost of a Linux distro.
Before looking at it, some background would help&#8230;
</p>

<p>
In 2000 and 2001 I published the first estimates of a GNU/Linux distribution&#8217;s
development costs.
The second study (released in 2001, lightly revised in 2002) was titled
<a href="http://www.dwheeler.com/sloc/redhat71-v1/redhat71sloc.html">More than a Gigabuck</a>.
That study
analyzed Red Hat Linux 7.1 as a representative GNU/Linux distribution,
and found that it would cost over $1 billion (over a Gigabuck)
to develop this GNU/Linux distribution by conventional proprietary means
in the U.S. (in year 2000 U.S. dollars).
It included over 30 million physical source lines of code (SLOC),
and had it been developed using conventional proprietary means, it would
have taken 8,000 person-years of development time to create.
My later paper
<a href="http://www.dwheeler.com/essays/linux-kernel-cost.html">
Linux Kernel 2.6: It&#8217;s Worth More!</a> focused on how to estimate the
development costs for just the Linux kernel
(this was picked up by <a href="http://www.groklaw.net/article.php?story=20041012233246869">Groklaw</a>).
</p>

<p>
The Linux Foundation has just re-performed this analysis with Fedora 9,
and released it as
<a href="http://www.linuxfoundation.org/publications/estimatinglinux.php">
&#8220;Estimating the Total Development Cost of a Linux Distribution&#8221;</a>.
<a href="http://linux-foundation.org/weblogs/press/2008/10/21/linux-foundation-publishes-study-estimating-the-value-of-linux/">
Here&#8217;s their press release</a>.
I&#8217;d like to thank the authors (Amanda McPherson, Brian Proffitt,
and Ron Hale-Evans), because they&#8217;ve reported a lot of interesting
information.
</p>

<p>
For example, they found that it would take approximately 
$10.8 billion to rebuild the Fedora 9 distribution in today&#8217;s dollars;
it would take $1.4 billion to develop just the Linux kernel alone.
This isn&#8217;t the <i>value</i> of the distribution;
typically people won&#8217;t write software unless the software had more
value to them than what it cost them (in time and effort) to write it.
They state that quite clearly in the paper;
they note that these numbers estimate
&#8220;how much it would cost to develop the software in a Linux distribution today,
from scratch. It’s important to note that this estimates the cost but not
the value to the greater ecosystem&#8230;&#8221;.
To emphasize that point, the authors reference a 2008 IDC study
(&#8220;The Role of Linux Commercial Servers and Workloads&#8221;) which claims
that Linux represents a $25 billion ecosystem.
I think IDC&#8217;s figure is (in fact) a gross underestimation of
the ecosystem <i>value</i>, understandably so (ecosystem value
is very hard to measure).
Still, the cost to <i>redevelop</i> a system is a plausible lower bound
for the value of something (as long as people keep using it).
More importantly, it clearly proves that very large and sophisticated systems
can be developed as free-libre / open source software (FLOSS).
</p>

<p>
They make a statement about me that I&#8217;d like to expand on:
&#8220;[Wheeler] concluded—as we did—that Software Lines of Code is
the most practical method to determine open source software value
since it focuses on the end result and not on per-company or
per-developer estimates.&#8221;
That statement is quite true, but please let me explain why.
Directly measuring the amount of time and money spent in development would
be, by far, the best way of finding those numbers.
But few developers would respond to a survey requesting that information,
so direct measurement is completely impractical.
Thus, using well-known industry models is the best <i>practical</i>
approach to doing so, in spite of their limitations.
</p>

<p>
I was delighted with their section on the
&#8220;Limitations and Advantages to this Study&#8217;s Approach&#8221;.
All studies have limitations, and I think it&#8217;s much better to
acknowledge them than hide them.
They note several reasons why this approach grossly
underestimates the <i>real</i> effort in developing a distribution,
and I quite agree with them.
In particular: (1) collaboration often takes additional time
(though it often produces better results because you see all sides);
(2) deletions are work yet they are not counted;
(3) &#8220;bake-offs&#8221; to determine the
best approach (where only the winner is included) produce great results
but the additional efforts for the alternatives aren&#8217;t included in the
estimates.
(I noted the bake-off problem in my
<a href="http://www.dwheeler.com/essays/linux-kernel-cost.html">paper on
the Linux kernel</a>.)
They note that some drivers aren&#8217;t often used, but I don&#8217;t see that as
a problem; after all, it still took effort to develop them, so it&#8217;s valid
to include them in an effort estimate.
Besides, one challenge to creating an operating system is this very issue -
to become useful to many, you must develop a large number of drivers - even
though many of the drivers have a relatively small set of users.
</p>

<p>
This is <i>not</i> a study of &#8220;all FLOSS&#8221;; many
FLOSS programs are not included in Fedora (as they note in their limitations).
Others have examined Debian and the Perl CPAN library using my approach
(see <a href="http://www.dwheeler.com/sloc/">my page on SLOC</a>), and
hopefully someday someone will actually try to measure &#8220;all FLOSS&#8221;
(good luck!!).
However, since the Linux Foundation measured a
descendent of what I used for my original analysis,
it&#8217;s valid to examine what&#8217;s happened to the size
of this single distribution over time.
That&#8217;s really interesting, because that lets us examine overall trends.
So let&#8217;s take advantage of that!
In terms of physical source lines of code (SLOC) we have:
<pre>
Distribution         Year   SLOC(million)
Red Hat Linux 6.2    2001    17
Red Hat Linux 7.1    2002    30
Fedora 9             2008   204
</pre>
If Fedora was growing linearly, the first two points estimate a rate of
13MSLOC/year, and Fedora 9 would have 108 MSLOC (30+6*13).
Fedora 9 is almost twice that size, which shows clearly that there&#8217;s
exponential growth.
Even if you factored in the month of release (which I haven&#8217;t done), I
believe you&#8217;d still have clear evidence of exponential growth.
This observation is consistent with
<a href="http://www.riehle.org/publications/2008/the-total-growth-of-open-source/">&#8220;The Total Growth of Open Source&#8221; by Amit Deshpande and Dirk Riehle</a>
(2008), which found that 
&#8220;both the growth rate as well as the absolute amount of source
code is best explained using an exponential model&#8221;.
</p>

<p>
Another interesting point:
<a href="http://www.informationweek.com/blog/main/archives/2007/10/linux_will_be_w.html">
Charles Babcock predicted, in Oct. 19, 2007, that the Linux kernel
would be worth $1 billion in the first 100 days of 2009</a>.
He correctly predicted that it would pass $1 billion, but it
happened somewhat earlier than he thought: by Oct. 2008 it&#8217;s already happened,
instead of waiting for 2009.
I think the reason it happened slightly earlier is that Charles Babcock&#8217;s
rough estimate was based on a linear approximation
(&#8220;adding 2,000 lines of code a day&#8221;).
But these studies all seem to indicate that mature
FLOSS programs - including the Linux kernel - are currently
growing <i>exponentially</i>, not linearly.
Since the rate is also increasing, the date of arrival at $1 billion
was sooner than Babcock&#8217;s rough estimate.
Babcock&#8217;s fundamental point - that the Linux kernel keeps adding value
at a tremendous pace - is still absolutely correct.
</p>

<p>
I took a look at some of the detailed data, and some very interesting
factors were revealed.
By lines of code, here were the largest programs in Fedora 9
(biggest first):
<pre>
  kernel-2.6.25i686
  OpenOffice.org
  Gcc-4.3.0-2 0080428
  Enterprise Security Client 1.0.1
  eclipse-3.3.2
  Mono-1.9.1
  firefox-3.0
  bigloo3.0b
  gcc-3.4.6-20060404
  ParaView3.2.1
</pre>
</p>
<p>
The Linux kernel is no surprise; as I noted in the past, it&#8217;s <i>full</i>
of drivers, and there&#8217;s a continuous stream of new hardware that
need drivers.
The Linux Foundation decided to count both gcc3 and gcc4; since there
was a radical change in approach between gcc3 and gcc4, I think that&#8217;s fair
in terms of effort estimation.
(My tool ignores duplicate files, which helps counter double-counting
of effort.)
Firefox wasn&#8217;t included by name in the Gigabuck study, but Mozilla was,
and Firefox is essentially its descendent.
It&#8217;s unsurprising that Firefox is big; it does a lot of things, and
trying to make things &#8220;look&#8221; simple often takes more code (and effort).
</p>
<p>
What&#8217;s remarkable is that many of the largest programs in Fedora 9
were not even <i>included</i> in the &#8220;Gigabuck&#8221; study - these are whole
new applications that were added to Fedora since that time.
These largest programs not in the Gigabuck study are:
OpenOffice.org (an office suite, aka word processor,
spreadsheet, presentation, and so on),
Enterprise Security Client, eclipse (a development environment), Mono
(an implementation of the C# programming language and its underlying
&#8220;.NET&#8221; environment), bigloo (an implementation of the Scheme programming
language), and paraview (a data analysis and visualization application for
large datasets).
OpenOffice.org&#8217;s size is no surprise; it does a lot.
I&#8217;m a little concerned that &#8220;Enterprise Security Client&#8221; is so huge -
a security client should be <i>small</i>, not big, so that you can analyze
it thoroughly for trustworthiness.
Perhaps someone will analyze that program further to see why this is so,
and if that&#8217;s a reason to be concerned.
</p>

<p>
Anyway, take a look at
<a href="http://www.linuxfoundation.org/publications/estimatinglinux.php">
&#8220;Estimating the Total Development Cost of a Linux Distribution&#8221;</a>.
It conclusively shows that large and useful systems can be developed as FLOSS.
</p>

<p>
An interesting coincidence: Someone else (Heise) almost simultaneously
released a study of just the Linux kernel, again using SLOCCount.
<a href="http://www.heise-online.co.uk/open/Kernel-Log-More-than-10-million-lines-of-Linux-source-files--/news/111759">
Kernel Log: More than 10 million lines of Linux source files</a>
notes that the Linux kernel version 2.6.27 has 6,399,191 SLOC.
&#8220;More than half of the lines are part of hardware drivers; the second largest
chunk is the arch/ directory which contains the source code of the various
architectures supported by Linux.&#8221;
In that code,
&#8220;96.4 per cent of the code is written in C and 3.3 percent in Assembler&#8221;.
They didn&#8217;t apply the corrective factors specific to Linux kernels
that I discussed in
<a href="http://www.dwheeler.com/essays/linux-kernel-cost.html">
Linux Kernel 2.6: It&#8217;s Worth More!</a>, but it&#8217;s still interesting to see.
And their conclusion is inarguable:
&#8220;There is no end in sight for kernel growth which has been ongoing in the Linux
2.6 series for several years - with every new version, the kernel hackers
extend the Linux kernel further to include new functions and drivers,
improving the hardware support or making it more flexible, better or faster.&#8221;
</p>
<p>path: <a href="http://www.dwheeler.com/blog/oss">/oss</a> | <a href="http://www.dwheeler.com/blog">Current Weblog</a> | <a href="http://www.dwheeler.com/blog/2008/10/22#development-cost-linux-2008">permanent link to this entry</a></p>
</body></html>