<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Tiny C Compiler (tcc or TinyCC) related files</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

</head>
<body bgcolor="#FFFFFF">
<center>
<h1><font color="#339900">Tiny C Compiler (tcc or TinyCC) related files</font></h1></center>
<p>
Here&#8217;s information specific to the Tiny C Compiler (tcc or TinyCC),
originally developed by Fabrice Bellard.
I used this small compiler for a lot of my work.
tcc is Free-libre / open source software, so it can be reviewed and modified
by anyone, and its small size also had many advantages for me.

<p>
<h1>General information on tcc</h1>
<p>
For more on tcc, see
<a href="http://www.tinycc.org/">tinycc.org</a> and the
<a href="http://savannah.nongnu.org/projects/tinycc">Tiny C compiler (tcc)
project page on Savannah</a>
(mailing list especially).
Note that Fabrice Bellard, tcc's creator, is busy with other projects;
<a href="http://landley.net/code/tinycc/">
Rob Landley has a tcc fork</a>
(see his
<a href="http://www.landley.net/code/">code</a> and
<a href="http://www.landley.net/hg/tinycc">Mercurial log</a>).
You can also see the
<a href="http://en.wikipedia.org/wiki/Tiny_C_Compiler">Wikipedia entry on
the Tiny C Compiler (tcc)</a>.

<p>
<h1>Detailed data for duplicating the ACSAC experiment</h1>
<p>
In any scientific work it&#8217;s important to be able to duplicate the work.
If you want to duplicate my ACSAC work, here are copies of
<a href="tcc-0.9.20.tar.gz">tcc-0.9.20.tar.gz</a>,
<a href="tcc-0.9.21.tar.gz">tcc-0.9.21.tar.gz</a>, and
<a href="tcc-0.9.22.tar.gz">tcc-0.9.22.tar.gz</a>, along with
<a href="tcc-bugfix.txt">tcc-bugfix.txt</a>; that should be enough to let you duplicate
what I did.
You can even download my script <a href="retrust">retrust</a>; it's a very
messy script that does more than necessary, but it does
perform the entire test automatically (as well as some other tests to show
the impact of various changes).
I didn't use it for the paper, but you can also get
<a href="tcc-0.9.23.tar.gz">tcc-0.9.23.tar.gz</a> on this site
<p>
I had two problems with tcc as described in the ACSAC paper.
One was a typecasting bug;
<a href="http://lists.gnu.org/archive/html/tinycc-devel/2005-01/msg00013.html">
David Heine has posted a patch</a>, which was later
<a href="http://www.landley.net/hg/tinycc?cs=2707893d0c57">
included in Landley's fork</a>
(along with <a href="http://www.landley.net/hg/tinycc?fd=ffd17713a155;file=tests/tcctest.c">a test case</a>).
The other was a failure to zero some bits of long double values;
<a href="http://www.landley.net/hg/tinycc?cs=e6ddaffce6a8">
Landley's fork includes a patch from
Felix Nawothnig to zero the high bits of long double
floating point constants</a>.

<p>
<h1>Patches to tcc</h1>
<p>
Since the ACSAC paper, I've submitted a number of patches to tcc
to fix problems.
<p>
Most of my patches weren't really developed by me all; they were
fixes originally developed by grischka, but they were
never polished into a mergeable form.  He posted a single
mega-patch, which is almost <i>never</i> a good idea.
I then extracted some stuff I needed from that mega-patch, turning them
into a bunch of single-purpose patches that could actually be sensibly merged:
<ul>
<li><a href="grischka1.patch">grischka1.patch</a>
<li><a href="grischka2.patch">grischka2.patch</a>
<li><a href="grischka3.patch">grischka3.patch</a>
<li><a href="grischka5.patch">grischka5.patch</a>
<li><a href="grischka6.1.patch">grischka6.1.patch</a>
<li><a href="grischka6.2.patch">grischka6.2.patch</a>
<li><a href="grischka7.patch">grischka7.patch</a>
<li><a href="alloca-v3.patch">alloca-v3.patch</a> (grischka case_8)
<li><a href="grischka9.patch">grischka9.patch</a>
<li><a href="grischka10.patch">grischka10.patch</a>
</ul>
<p>
I didn't extract everything;
<a href="grischka-todo.txt">grischka-todo.txt</a>
lists what is missing.
<p>
Other things I did:
<ul>
<li>an <a href="iso646.h">iso646.h</a> implementation;
just put that file in the "include/" subdirectory of tcc.
<li><a href="warning.patch">warning.patch</a>, which eliminates many
extraneous warnings from tcc compilation.
</ul>

<hr>
<p>
Feel free to go back to the
<a href="https://dwheeler.com/trusting-trust/">main page
about trusting trust</a>.
You can also view
<a href="https://dwheeler.com/secure-programs">my book on
writing secure programs</a>,
<a href="https://dwheeler.com/flawfinder">FlawFinder</a>, or
<a href="https://dwheeler.com">my home page</a>.
</body>
</html>

