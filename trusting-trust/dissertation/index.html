<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Fully Countering Trusting Trust through Diverse Double-Compiling: Dissertation Home page</title>
<meta name="description" content="David A. Wheeler's Page on Countering 'Trusting Trust' (Trojan Horse attacks on Compilers), especially using Diverse Double-Compiling (DDC)">
<meta name="keywords" content="Trusting trust, trojan horse, compiler, compilers, compilation, subversion, malicious, malicious compiler, subverted compiler, Thompson, Ken Thompson, ACSAC, ACSAC 2005, diverse double-compiling, diverse double compiling, DDC, Reflections on Trusting Trust, Spencer, Karger, Schell, Draper, McDermott, Unix, C compiler, tcc, gcc, David, Wheeler, David A. Wheeler, micro-taint, microtaint, micro-tainting, microtainting, Perl, regular expressions">

</head>
<body bgcolor="#FFFFFF">
<center>
<h1><font color="#339900">David A. Wheeler&#8217;s Page on "Fully Countering Trusting Trust through Diverse Double-Compiling" (Trojan Horse attacks on Compilers) Dissertation</font></h1></center>
<p>
This is the home page for my dissertation
"Fully Countering Trusting Trust through Diverse Double-Compiling".
<h1>Key materials</h2>
Here are key materials from my dissertation, including
the original public defense, dissertation and errata, and supporting materials:
<ul>
<li>
<a href="wheeler-trusting-trust-video.html">Video of
public defense</a>
<li>
<a href="wheeler-trusting-trust-ddc.pdf">Fully Countering Trusting Trust through Diverse Double-Compiling (PDF format)</a> (PhD dissertation)
<!--
<a href="dissertation.odt">(ODT format)</a>
-->
<li>
<a href="html/wheeler-trusting-trust-ddc.html">Fully Countering Trusting Trust through Diverse Double-Compiling (HTML format)</a> (PhD dissertation)
<li>
<a href="../dissertation-errata.html">Dissertation errata</a>
<li>
Proof #1:
<a href="ddc.in">ddc.in (prover9 input)</a>
<a href="ddc.html">ddc.html (HTML result)</a>
<a href="ddc.xml">ddc.xml (XML result)</a>
<a href="ddc.ps">ddc.ps (Proof graph in postscript)</a>
<a href="ddc.big.ps">ddc.ps (Proof graph in postscript, big format)</a>
<a href="ddc.pdf">ddc.pdf (Proof graph in PDF)</a>
[with consistency proof using
<a href="ddc-consistent.in">ddc-consistent.in</a>
available in
<a href="ddc-consistent.cooked">cooked</a>,
<a href="ddc-consistent.tabular">tabular</a>, and
<a href="ddc-consistent.mout">original output</a> formats].

<li>
Proof #2:
<a href="all-repeats.in">all-repeats.in (prover9 input)</a>
<a href="all-repeats.html">all-repeats.html (HTML result)</a>
<a href="all-repeats.xml">all-repeats.xml (XML result)</a>
<a href="all-repeats.ps">all-repeats.ps (Proof graph in postscript)</a>
<a href="all-repeats.big.ps">all-repeats.ps (Proof graph in postscript, big format)</a>
<a href="all-repeats.pdf">all-repeats.pdf (Proof graph in PDF)</a>.
[with consistency proof using
<a href="all-repeats-consistent.in">all-repeats-consistent.in</a>
available in
<a href="all-repeats-consistent.cooked">cooked</a>,
<a href="all-repeats-consistent.tabular">tabular</a>, and
<a href="all-repeats-consistent.mout">original output</a> formats].
Note: On November 18, 2009, I made a small tweak to proof #2.
Prover9 approved it, and ivy verified it.

<li>
Proof #3:
<a href="cP-corresponds-sP.in">cP-corresponds-sP.in (prover9 input)</a>
<a href="cP-corresponds-sP.html">cP-corresponds-sP.html (HTML result)</a>
<a href="cP-corresponds-sP.xml">cP-corresponds-sP.xml (XML result)</a>
<a href="cP-corresponds-sP.ps">cP-corresponds-sP.ps (Proof graph in postscript)</a>
<a href="cP-corresponds-sP.big.ps">cP-corresponds-sP.ps (Proof graph in postscript, big format)</a>
<a href="cP-corresponds-sP.pdf">cP-corresponds-sP.pdf (Proof graph in PDF)</a>
[with consistency proof using
<a href="cP-corresponds-sP-consistent.in">cP-corresponds-sP-consistent.in</a>
available in
<a href="cP-corresponds-sP-consistent.cooked">cooked</a>,
<a href="cP-corresponds-sP-consistent.tabular">tabular</a>, and
<a href="cP-corresponds-sP-consistent.mout">original output</a> formats].

<li>
It may be easier to understand prover9 through some other examples.
Here is
<a href="mortal.in">prover9 input to prove that Socrates is mortal</a>, a
<a href="sqrt2.in">prover9 input to prove that the
square root of 2 is irrational</a>,
and
<a href="distinct.in">prover9 input showing
how to easily declare that terms in a list are distinct</a>.


<!--
<li>
<a href="summary-proofs">Here's a brief separate summary of the proofs</a>
-->

<li>For the Lisp compilers, I started with the ACL2 work.
Here are my modified versions and related materials:
<a href="../lisp-demo/NOTES">NOTES</a>
<a href="../lisp-demo/mycompiler.cl">mycompiler.cl</a>
<a href="../lisp-demo/mymachine.cl">mymachine.cl</a>
<a href="../lisp-demo/demo-shell.cl">demo-shell.cl</a>
<a href="../lisp-demo/demo">demo</a>
<a href="../lisp-demo/demo-output">demo-output</a>

<li>
Using DDC on gcc was tricky.
Here's the <a href="../regen">regen</a> script that recompiled gcc,
along with the required
<a href="../MAKEFILE_ADDITIONS">makefile additions for gcc</a>.
<!--
and the resulting
<a href="cc1">C compiler cc1</a>.
-->
Here's a local copy of
<a href="gcc-3.0.4.tar.gz">gcc-3.0.4.tar.gz</a>.
Here is the resulting
<a href="work-3.0.4-by-icc-round7.tar.gz">directory containing
gcc 3.0.4 using icc as the trusted compiler</a>, and the resulting GCC
is the same as the one in the
<a href="work-3.0.4-by-gcc4-round7.tar.gz">directory containing
gcc 3.0.4 using gcc as the bootstrap compiler</a>.

</ul>

<h1>Independence of assumptions</h1>
<p>
Since publishing in 2009 I have found (in 2010-2014)
independence-proving models for all but one of the assumptions
(see below for what these mean):
</p>
<ul>
<li>Proof #1: Starting with <a href="ddc.in">ddc.in</a>,
we can create mace4 inputs to try to find models proving independence
for each assumption
(assumption
<a href="ddc-independence-1.in">1</a>,
<a href="ddc-independence-2.in">2</a>,
<a href="ddc-independence-3.in">3</a>,
<a href="ddc-independence-4.in">4</a>,
<a href="ddc-independence-5.in">5</a>),
and generate models for each
(assumption
<a href="ddc-independence-1.cooked">1</a>,
<a href="ddc-independence-2.cooked">2</a>,
<a href="ddc-independence-3.cooked">3</a>,
<a href="ddc-independence-4.cooked">4</a>,
<a href="ddc-independence-5.cooked">5</a>).

<li>Proof #2: Starting with <a href="all-repeats.in">all-repeats.in</a>,
we can create mace4 inputs to try to find models proving independence
for each assumption
(assumption
<a href="all-repeats-independence-1.in">1</a>,
<a href="all-repeats-independence-2.in">2</a>,
<a href="all-repeats-independence-3.in">3</a>,
<a href="all-repeats-independence-4.in">4</a>,
<a href="all-repeats-independence-5.in">5</a>,
<a href="all-repeats-independence-6.in">6</a>,
<a href="all-repeats-independence-7.in">7</a>,
<a href="all-repeats-independence-8.in">8</a>,
<a href="all-repeats-independence-9.in">9</a>),
and generate models for almost every one
(assumption
<a href="all-repeats-independence-1.cooked">1</a>,
<a href="all-repeats-independence-3.cooked">3</a>,
<a href="all-repeats-independence-4.cooked">4</a>,
<a href="all-repeats-independence-5.cooked">5</a>,
<a href="all-repeats-independence-6.cooked">6</a>,
<a href="all-repeats-independence-7.cooked">7</a>,
<a href="all-repeats-independence-8.cooked">8</a>,
<a href="all-repeats-independence-9.cooked">9</a>).
Note that currently I do not have a model for
<a href="all-repeats-independence-2.in">assumption 2</a>.

<li>Proof #3: Starting with
<a href="cP-corresponds-sP.in">cP-corresponds-sP.in</a>,
we can create mace4 inputs to try to find models proving independence
for each assumption
(assumption
<a href="cP-corresponds-sP-independence-1.in">1</a>,
<a href="cP-corresponds-sP-independence-2.in">2</a>,
<a href="cP-corresponds-sP-independence-3.in">3</a>),
and generate models for each
(assumption
<a href="cP-corresponds-sP-independence-1.cooked">1</a>,
<a href="cP-corresponds-sP-independence-2.cooked">2</a>,
<a href="cP-corresponds-sP-independence-3.cooked">3</a>).
</ul>

<p>
I'm releasing all of the above under the same licensing conditions as the
dissertation itself.
That is, you may use, modify, and distribute these works
them under the terms of the
Creative Commons Attribution-Share Alike (CC-BY-SA) 3.0 U.S. license,
the GNU Free Documentation License Version 1.2 or later, or
the GNU General Public License (GPL) version 2 or later.
If you do not specify, I presume you release any modifications under the
same conditions as the original.

<p>
A quick word about the consistency models.
Why create consistency models?
The basic issue is that if you use a set of assumptions that are
<i>not</i> consistent in a proof, then using classical logic systems
you can prove <i>anything</i>... and that's not good.
For example, <a href="bad.in">bad.in</a> presumes blatant contraditions;
given this, prover9 can "prove" both some formula "p" and the formula "not p".
We can show that our assumptions are consistent by sending them to mace4.
If mace4 can build a "model" (a set of assignments to variables,
in this case numbers, that together <i>can</i> be met by the assumptions),
then we've proven that the assumptions are consistent.
The assumptions may not be an accurate model of the world
(that's a different issue!),
but by doing this we can show that they're consistent.
The input to mace4 is simply the set of assumptions (without the goal).
Mace4 found models for the assumptions of
all three proofs, so the assumptions of each proof are consistent.
There are several ways to view the output; I prefer the "cooked" form,
but it's your choice.
In the "cooked" format, assignments are shown for each constant,
for each function (given inputs what is the result), and
true/false values for each predicate
(prefixed with "-" for false and " " for true).
In all cases, you can see that it is possible to make such assignments;
it would not be possible to make these assignments if the
assumptions were inconsistent.

<p>
The independence-proving models are not as important,
but they are nice to have.
Ideally, we would want a proof to depend on only the smallest number of
assumptions.
If one assumption can be derived from the other assumptions,
then that assumption is not independent.
This has a minor practical benefit,
because the fewer assumptions you need to make,
the fewer assumptions you have to confirm.
One way to prove that an assumption is independent of the others is to
negate that assumption
while leaving the other assumptions unchanged and omitting the goal.
If a model can be found for this modified set of assumptions,
and the original set are known to be consistent (which we have already proved),
then the negated assumption is independent of the other assumptions.
That is because, by definition, such a models shows that
it is possible for that assumption to be
false while the others are true.
If we can repeat this process for every assumption, and show that
each one is independent separately,
then we show that the set of assumptions (axioms) is indepedent.
<!--
Related info:
See
"A Very Independent Axiom System" by Frank Harary, University of Michigan,
The American Mathematical Monthly, Vol. 68, No. 2 (Feb., 1961), pp. 159-162.
"Let S= {A1, , An} be a system of axioms over a given collection of primitives. We shall assume throughout that this axiom system is satisfiable, that is, that it has a model. Following Wilder [7], an axiom A in S is independent if the modified system (S-A)+-'A is also satisfiable; and S itself is inde- pendent if each of its axioms is independent. Continuing, the axiom system S is completely independent if for any subset Si of axioms, the modified axiom system (S-S1)+ -S1 has a model."
The "Wilder" referenced is
R. L. Wilder, Introduction to the Foundations of Mathematics, New York, 1952.

Jesse Alama in
<a href="http://arxiv.org/abs/1312.4317">"Sharpening independence results for Huntington’s affine geometry"</a>
claims that
Moore, E.H.: Introduction to a form of general analysis. New Haven Mathematical Colloquium pp.
1–150 (1910), says:
E. H. Moore [], is a
considerable generalization of the familiar notion of independent axiom. We now
recall the definition.
Definition 2 A set S of sentences is said to be completely independent if, for all
subsets X of S, the set (S \X)∪{¬j | j ∈ X} is satisfiable.
I can't find it.

Examples of other papers that use mace4 to check independence
include two papers by Jesse Alama,
<a href="http://arxiv.org/pdf/1311.1912">"Complete independence
of an axiom system for central translations"</a> (8 Nov 2013)
and
<a href="http://arxiv.org/abs/1312.4317">"Sharpening independence results for Huntington’s affine geometry"</a>
(16 Dec 2013).
-->
For example, Jesse Alama uses mace4 to check independence in
<a href="http://arxiv.org/pdf/1311.1912">"Complete independence
of an axiom system for central translations"</a> (8 Nov 2013).
As noted above, using mace4 I have found independence-proving models
for all but one of the assumptions used the three proofs.
I believe that the remaining assumption is independent as well,
but this is a conjecture; I have not proven it.
In any case, the DDC approach does not depend on independence.

<p>
This process for proving independence of each assumption
is not my own idea, but follows from standard mathematical definitions.
"Introduction to the Foundations of Mathematics" by
Raymond L. Wilder (second edition) says on pages 29,
"Let us denote the denial of A by ~A, and let &Sigma; - A denote
the system &Sigma; with A deleted.
If S is any &Sigma;-statement, let &Sigma; + S mean the axiom system
containing the axioms of &Sigma; and the statement S as the new axiom."
It then defined:
"If &Sigma; is an axiom system and A is one of the axioms of &Sigma;,
then A is called independent in &Sigma;, or an independent axiom of &Sigma;,
if both &Sigma; and the axiom system (&Sigma; - A) + ~A are satisfiable."
<!--
Also on page 29:
"In practice, a &Sigma;-statment whose addition to &Sigma; - A implies ~A
is often used instead of ~A...
"If &Sigma; is an axiom system and A is one of the axioms of
&Sigma;, then A is independent in &Sigma; if (1) &Sigma; is satisfiable, and
(2) there is a &Sigma;-statement S such that the axiom system
(&Sigma; - A) + S implies ~A and is satisfiable."
-->
On page 30 Wilder also notes that
"we do not place the same emphasis on independence
as we do on consistency.
Consistency is <i>always</i> desired, but there
may be cases where independence is <i>not</i> desired...
Generally speaking, of course,
it is preferable to have all axioms independent; but if
some axiom turns out not to be independent, the system is not
invalidated.
As a matter of fact, some well-known and important axiom systems,
when first published, contained axioms that were not independent.....
This is no way invalidated the system;
it was only necessary to change the axioms to theorems
(supplying the proofs of the latter, of course)."

<!--
The book "Set Theory: An Introduction to Independence Proofs"
by Kenneth Kunen (1980) page xi (Introduction)
focuses on independence in a far more abstract area, and
also focuses on proving an axiom is independent by showing that
both the axiom and its negation can be added:
"Set theory is the foundation of mathematics. All mathematical concepts
are defined in terms of the primitive notions of set and membership. In
axiomatic set theory we formulate a few simple axioms about these primitive
notions in an attempt to capture the basic 'obviously true' set-theoretic
principles. From such axioms, all known mathematics may be derived.
However, there are some questions which the axioms fail to settle, and that
failure is the subject of this book.
The specific axiom system we discuss is ZFC, or Zermelo-Frankel set
theory with the Axiom of Choice. We say that a statement &Phi; is independent
of ZFC if neither &Phi; nor -&Phi; (the negation of &Phi;) is provable from ZFC;
this is equivalent to saying that both ZFC + -&Phi; and ZFC + &Phi;
are consistent.
The most famous example of such a &Phi; is the Continuum Hypothesis
(CH), but within the past few years, a large number of statements, coming
from various branches of mathematics, have been shown to be independent
of ZFC.
In this book, we study the techniques for showing that a statement &Phi; is
consistent with ZFC. &Phi; will be shown to be independent if we can successfully
apply these techniques to &Phi; and to -&Phi;; this will always involve two
separate arguments. There are also many statements which have been shown
to be consistent but whose independence has remained unsettled."
-->

<h1>Proof graphs</h1>
<p>
I find proof graphs very helpful, and I originally planned to
include them in the dissertation document.
I didn't include them in the final dissertation
because they're too hard to read when shrunk to ordinary dissertation
page sizes.
But feel free to look at the proof graphs.
<!--
<ul>
<li><a href="ddc.ps">ddc.ps</a> (proof #1)
<li><a href="all-repeats.ps">all-repeats.ps</a> (proof #2)
<li><a href="cP-corresponds-sP.ps">cP-corresponds-sP.ps</a> (proof #3)
</ul>
-->
The proof graphs were generated from the prover9 XML files
using my "gvizify" program.  Each step is shown as a node;
an arc from step A to step B indicates that step B was proven using step A.
The final step of all proofs is $F, meaning "false".  The proofs all take a goal, deny it, and show that there is a contradiction.  The step number is shown surrounded by {}.
The meanings of the node shapes are:
<ul>
<li>Rectangle: Assumption
<li>(No shape): Clausify
<li>Ellipse: Ordinary proof step
<li)Double Octagon: Goal (this must be negated)
<li>Octagon: Denial (negation of the previous step)
</ul>

<h1>Miscellaneous</h1>
<p>
You might find some of my early proof work interesting.
Here is <a href="ddc0.pvs">ddc0.pvs</a>, a simpler model of DDC using PVS.
It is copiously commented, and includes the PVS commands that lead to a proof.
All that manual work to drive the interactive PVS prover led me to
look for a better tool, and prover9 was a much better tool for my purposes.


<p>
I used OpenOffice.org to write the dissertation, and it worked out
very nicely.  I developed a
<a href="https://dwheeler.com/misc/gmu-sample-format.odt">
OpenDocument template for George Mason University</a>
that did nearly all the formatting for me automatically.
See my
<a href="https://dwheeler.com/trusting-trust/index.html#openoffice">
suggestions about how to use OpenOffice.org based on
lessons learned while writing this dissertation</a>.

<p>
I used "git" from 2007-2009 to manage the various versions
of the proofs, programs, dissertation, and so on.

<p>
Naturally, I had to go through the dissertation process of
<a href="http://www.gmu.edu">George Mason University (GMU)</a>.

<!--
<ul>
<li>I had to give my entire committee a copy of the dissertation,
they had 6 weeks to review it, and then had to defend it privately to
my entire committee.
I passed this, and they signed the paper giving me
<a href="approval-to-defend.jpg">approval to give a public defense</a>
<li>
Before the public defense, I had to
<a href="draft-submitted-to-library.jpg">submit a draft to the library</a>
at least two weeks before the public defense (of November 23, 2009).
</ul>
-->

<p>
You can see information on the
<a href="http://volgenau.gmu.edu/PhDprogr/index.php">
George Mason University (GMU) process for a PhD in Information Technology</a>.
<a href="http://thesis.gmu.edu/">George Mason University's Dissertation
and Thesis Services has various information</a>;
that includes
<a href="http://thesis.gmu.edu/dtformsnew.htm">
templates, including my OpenDocument template</a>.
There's also a
<a href="http://www.gmu.edu/library/specialcollections/dtabout.htm">
GMU web guide</a>.
<a href="http://thesis.gmu.edu/DTP_GUIDE.pdf">
GMU's Thesis, Dissertation, or Project Guide (Updated Fall 2007)</a>
has key details.
If you're writing a GMU dissertation you should look at the
<a href="http://thesis.gmu.edu/dtfaqnew.htm">GMU theses
and dissertation FAQ</a>.
<!--
GMU has to provided two copies
printed on 20 to 24 lb. 100% cotton or rag paper, 8.5x11 inches.
"Correctable bond and onionskin papers are not acceptable".
-->
<p>
<!--
Here's my personal checklist:
Sentences are separated by two spaces.
Eliminate "you" in most places.
Eliminate "binary/binaries" (use "executable").
Eliminate "evil" and be careful about "malicious" (tend toward "corrupt").
Fix tenses (past vs. present).
It is divided into "chapters"; everything below is a "section".

The "s" for source is italized, the X in cX and sX are subscripted,
everything else is un-subscripted.

I do *NOT* differentiate between citations used as nouns and
citations merely used by syntax, though merely-used citations go at the end,
and immediately precede the ending sentence punctuation.

For any important definitions, give them once in the paper and
repeat back in the definitions (so that elsewhere it's consistent).

Spell out acronyms on first use, and put them in the acro list in front.

See the "proof conventions"; top-level formulas end in "." but
declarations of functions/predicates (with their parameters) do not.

Should I explain/go into more detail about open source software
(define the term, note that it's commercial) and open-box software?

Conventions:
DDC is a <i>technique</i> not a process or approach.
"Trusting Trust" is only quoted first time.
-->
<p>
<hr>
<p>
You can also view
<a href="https://dwheeler.com/trusting-trust">my web page on
trusting trust</a>,
<a href="https://dwheeler.com/secure-programs">my book on
writing secure programs</a>,
<a href="https://dwheeler.com/flawfinder">FlawFinder</a>, or
<a href="https://dwheeler.com">my home page</a>.
</body>
</html>

